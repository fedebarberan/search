// Version 2.16 - Fixed cookie consent text node issue
const translations = {
    en: {
        enterSearch: 'Enter search query',
        toggleTheme: 'Toggle Theme',
        settings: 'Settings',
        reportBug: 'Report Bug',
        suggestFeature: 'Suggest Feature',
        addSite: 'Add Site',
        language: 'Language',
        reportABug: 'Report a Bug',
        suggestAFeature: 'Suggest a Feature',
        addASite: 'Add a Site',
        promoteYourSite: 'Promote Your Site',
        submit: 'Submit',
        submitted: 'Submitted!',
        describeBug: 'Describe the bug...',
        yourSuggestion: 'Your suggestion...',
        siteUrl: 'http://',
        promoteMessage: 'Enter your site details for paid inclusion...',
        generalSettings: 'General Settings',
        mostVisitedSitesFirst: 'Most visited sites first',
        resetVisitedSites: 'Reset visited sites',
        showLogoOnMouseOver: 'Show logo on mouse over',
        openResultsInNewTab: 'Open results in new tab',
        rows: 'Rows',
        sites: 'Sites',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Maps',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'General',
        ai: 'AI',
        buy: 'Buy',
        social: 'Social',
        forum: 'Forum',
        cookieText: 'We use cookies to improve your experience.',
        learnMore: 'Learn more',
        accept: 'Accept',
        decline: 'Decline'
    },
    es: {
        enterSearch: 'Ingrese consulta de bÃºsqueda',
        toggleTheme: 'Cambiar tema',
        settings: 'ConfiguraciÃ³n',
        reportBug: 'Reportar error',
        suggestFeature: 'Sugerir funciÃ³n',
        addSite: 'Agregar sitio',
        language: 'Idioma',
        reportABug: 'Reportar un Error',
        suggestAFeature: 'Sugerir una FunciÃ³n',
        addASite: 'Agregar un Sitio',
        promoteYourSite: 'Promocionar tu Sitio',
        submit: 'Enviar',
        submitted: 'Â¡Enviado!',
        describeBug: 'Describe el error...',
        yourSuggestion: 'Tu sugerencia...',
        siteUrl: 'http://',
        promoteMessage: 'Ingresa los detalles de tu sitio para inclusiÃ³n pagada...',
        generalSettings: 'ConfiguraciÃ³n General',
        mostVisitedSitesFirst: 'Sitios mÃ¡s visitados primero',
        resetVisitedSites: 'Restablecer sitios visitados',
        showLogoOnMouseOver: 'Mostrar logo al pasar el ratÃ³n',
        openResultsInNewTab: 'Abrir resultados en nueva pestaÃ±a',
        rows: 'Filas',
        sites: 'Sitios',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Mapas',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'General',
        ai: 'IA',
        buy: 'Comprar',
        social: 'Social',
        forum: 'Foro',
        cookieText: 'Usamos cookies para mejorar tu experiencia.',
        learnMore: 'Aprende mÃ¡s',
        accept: 'Aceptar',
        decline: 'Rechazar'
    },
    hi: {
        enterSearch: 'à¤–à¥‹à¤œ à¤•à¥à¤µà¥‡à¤°à¥€ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚',
        toggleTheme: 'à¤¥à¥€à¤® à¤Ÿà¥‰à¤—à¤² à¤•à¤°à¥‡à¤‚',
        settings: 'à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸',
        reportBug: 'à¤¬à¤— à¤°à¤¿à¤ªà¥‹à¤°à¥à¤Ÿ à¤•à¤°à¥‡à¤‚',
        suggestFeature: 'à¤¸à¥à¤µà¤¿à¤§à¤¾ à¤¸à¥à¤à¤¾à¤à¤‚',
        addSite: 'à¤¸à¤¾à¤‡à¤Ÿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
        language: 'à¤­à¤¾à¤·à¤¾',
        reportABug: 'à¤¬à¤— à¤°à¤¿à¤ªà¥‹à¤°à¥à¤Ÿ à¤•à¤°à¥‡à¤‚',
        suggestAFeature: 'à¤à¤• à¤¸à¥à¤µà¤¿à¤§à¤¾ à¤¸à¥à¤à¤¾à¤à¤‚',
        addASite: 'à¤à¤• à¤¸à¤¾à¤‡à¤Ÿ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚',
        promoteYourSite: 'à¤…à¤ªà¤¨à¥€ à¤¸à¤¾à¤‡à¤Ÿ à¤•à¥‹ à¤¬à¤¢à¤¼à¤¾à¤µà¤¾ à¤¦à¥‡à¤‚',
        submit: 'à¤œà¤®à¤¾ à¤•à¤°à¥‡à¤‚',
        submitted: 'à¤œà¤®à¤¾ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾!',
        describeBug: 'à¤¬à¤— à¤•à¤¾ à¤µà¤°à¥à¤£à¤¨ à¤•à¤°à¥‡à¤‚...',
        yourSuggestion: 'à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤à¤¾à¤µ...',
        siteUrl: 'http://',
        promoteMessage: 'à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤¶à¤¾à¤®à¤¿à¤² à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤ªà¤¨à¥€ à¤¸à¤¾à¤‡à¤Ÿ à¤•à¤¾ à¤µà¤¿à¤µà¤°à¤£ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚...',
        generalSettings: 'à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯ à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸',
        mostVisitedSitesFirst: 'à¤¸à¤¬à¤¸à¥‡ à¤…à¤§à¤¿à¤• à¤¦à¥‡à¤–à¥‡ à¤—à¤ à¤¸à¤¾à¤‡à¤Ÿà¥à¤¸ à¤ªà¤¹à¤²à¥‡',
        resetVisitedSites: 'à¤¦à¥‡à¤–à¥‡ à¤—à¤ à¤¸à¤¾à¤‡à¤Ÿà¥à¤¸ à¤°à¥€à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚',
        showLogoOnMouseOver: 'à¤®à¤¾à¤‰à¤¸ à¤“à¤µà¤° à¤ªà¤° à¤²à¥‹à¤—à¥‹ à¤¦à¤¿à¤–à¤¾à¤à¤‚',
        openResultsInNewTab: 'à¤¨à¤ à¤Ÿà¥ˆà¤¬ à¤®à¥‡à¤‚ à¤ªà¤°à¤¿à¤£à¤¾à¤® à¤–à¥‹à¤²à¥‡à¤‚',
        rows: 'à¤ªà¤‚à¤•à¥à¤¤à¤¿à¤¯à¤¾à¤',
        sites: 'à¤¸à¤¾à¤‡à¤Ÿà¥à¤¸',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'à¤¨à¤•à¥à¤¶à¥‡',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'à¤¸à¤¾à¤®à¤¾à¤¨à¥à¤¯',
        ai: 'AI',
        buy: 'à¤–à¤°à¥€à¤¦à¥‡à¤‚',
        social: 'à¤¸à¤¾à¤®à¤¾à¤œà¤¿à¤•',
        forum: 'à¤®à¤‚à¤š',
        cookieText: 'à¤¹à¤® à¤†à¤ªà¤•à¤¾ à¤…à¤¨à¥à¤­à¤µ à¤¬à¥‡à¤¹à¤¤à¤° à¤•à¤°à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥à¤•à¥€à¤œà¤¼ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤',
        learnMore: 'à¤”à¤° à¤œà¤¾à¤¨à¥‡à¤‚',
        accept: 'à¤¸à¥à¤µà¥€à¤•à¤¾à¤° à¤•à¤°à¥‡à¤‚',
        decline: 'à¤…à¤¸à¥à¤µà¥€à¤•à¤¾à¤° à¤•à¤°à¥‡à¤‚'
    },
    bn: {
        enterSearch: 'à¦…à¦¨à§à¦¸à¦¨à§à¦§à¦¾à¦¨ à¦ªà§à¦°à¦¶à§à¦¨ à¦²à¦¿à¦–à§à¦¨',
        toggleTheme: 'à¦¥à¦¿à¦® à¦Ÿà¦—à¦² à¦•à¦°à§à¦¨',
        settings: 'à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸',
        reportBug: 'à¦¬à¦¾à¦— à¦°à¦¿à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à§à¦¨',
        suggestFeature: 'à¦¬à§ˆà¦¶à¦¿à¦·à§à¦Ÿà§à¦¯ à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬ à¦•à¦°à§à¦¨',
        addSite: 'à¦¸à¦¾à¦‡à¦Ÿ à¦¯à§‹à¦— à¦•à¦°à§à¦¨',
        language: 'à¦­à¦¾à¦·à¦¾',
        reportABug: 'à¦à¦•à¦Ÿà¦¿ à¦¬à¦¾à¦— à¦°à¦¿à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à§à¦¨',
        suggestAFeature: 'à¦à¦•à¦Ÿà¦¿ à¦¬à§ˆà¦¶à¦¿à¦·à§à¦Ÿà§à¦¯ à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬ à¦•à¦°à§à¦¨',
        addASite: 'à¦à¦•à¦Ÿà¦¿ à¦¸à¦¾à¦‡à¦Ÿ à¦¯à§‹à¦— à¦•à¦°à§à¦¨',
        promoteYourSite: 'à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦¾à¦‡à¦Ÿ à¦ªà§à¦°à¦šà¦¾à¦° à¦•à¦°à§à¦¨',
        submit: 'à¦œà¦®à¦¾ à¦¦à¦¿à¦¨',
        submitted: 'à¦œà¦®à¦¾ à¦¦à§‡à¦“à¦¯à¦¼à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡!',
        describeBug: 'à¦¬à¦¾à¦— à¦¬à¦°à§à¦£à¦¨à¦¾ à¦•à¦°à§à¦¨...',
        yourSuggestion: 'à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§à¦°à¦¸à§à¦¤à¦¾à¦¬...',
        siteUrl: 'http://',
        promoteMessage: 'à¦ªà§à¦°à¦¦à¦¤à§à¦¤ à¦…à¦¨à§à¦¤à¦°à§à¦­à§à¦•à§à¦¤à¦¿à¦° à¦œà¦¨à§à¦¯ à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦¾à¦‡à¦Ÿà§‡à¦° à¦¬à¦¿à¦¬à¦°à¦£ à¦²à¦¿à¦–à§à¦¨...',
        generalSettings: 'à¦¸à¦¾à¦§à¦¾à¦°à¦£ à¦¸à§‡à¦Ÿà¦¿à¦‚à¦¸',
        mostVisitedSitesFirst: 'à¦¸à¦¬à¦šà§‡à¦¯à¦¼à§‡ à¦¬à§‡à¦¶à¦¿ à¦ªà¦°à¦¿à¦¦à¦°à§à¦¶à¦¿à¦¤ à¦¸à¦¾à¦‡à¦Ÿà¦—à§à¦²à¦¿ à¦ªà§à¦°à¦¥à¦®à§‡',
        resetVisitedSites: 'à¦ªà¦°à¦¿à¦¦à¦°à§à¦¶à¦¿à¦¤ à¦¸à¦¾à¦‡à¦Ÿ à¦°à¦¿à¦¸à§‡à¦Ÿ à¦•à¦°à§à¦¨',
        showLogoOnMouseOver: 'à¦®à¦¾à¦‰à¦¸ à¦“à¦­à¦¾à¦°à§‡ à¦²à§‹à¦—à§‹ à¦¦à§‡à¦–à¦¾à¦¨',
        openResultsInNewTab: 'à¦¨à¦¤à§à¦¨ à¦Ÿà§à¦¯à¦¾à¦¬à§‡ à¦«à¦²à¦¾à¦«à¦² à¦–à§à¦²à§à¦¨',
        rows: 'à¦¸à¦¾à¦°à¦¿',
        sites: 'à¦¸à¦¾à¦‡à¦Ÿ',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'à¦®à¦¾à¦¨à¦šà¦¿à¦¤à§à¦°',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'à¦¸à¦¾à¦§à¦¾à¦°à¦£',
        ai: 'AI',
        buy: 'à¦•à¦¿à¦¨à§à¦¨',
        social: 'à¦¸à¦¾à¦®à¦¾à¦œà¦¿à¦•',
        forum: 'à¦«à§‹à¦°à¦¾à¦®',
        cookieText: 'à¦†à¦®à¦°à¦¾ à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦­à¦¿à¦œà§à¦žà¦¤à¦¾ à¦‰à¦¨à§à¦¨à¦¤ à¦•à¦°à¦¤à§‡ à¦•à§à¦•à¦¿à¦œ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¿à¥¤',
        learnMore: 'à¦†à¦°à¦“ à¦œà¦¾à¦¨à§à¦¨',
        accept: 'à¦—à§à¦°à¦¹à¦£ à¦•à¦°à§à¦¨',
        decline: 'à¦ªà§à¦°à¦¤à§à¦¯à¦¾à¦–à§à¦¯à¦¾à¦¨ à¦•à¦°à§à¦¨'
    },
    ar: {
        enterSearch: 'Ø£Ø¯Ø®Ù„ Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø§Ù„Ø¨Ø­Ø«',
        toggleTheme: 'ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ…',
        settings: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
        reportBug: 'Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø®Ø·Ø£',
        suggestFeature: 'Ø§Ù‚ØªØ±Ø§Ø­ Ù…ÙŠØ²Ø©',
        addSite: 'Ø¥Ø¶Ø§ÙØ© Ù…ÙˆÙ‚Ø¹',
        language: 'Ø§Ù„Ù„ØºØ©',
        reportABug: 'Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ø®Ø·Ø£',
        suggestAFeature: 'Ø§Ù‚ØªØ±Ø§Ø­ Ù…ÙŠØ²Ø©',
        addASite: 'Ø¥Ø¶Ø§ÙØ© Ù…ÙˆÙ‚Ø¹',
        promoteYourSite: 'Ø§Ù„ØªØ±ÙˆÙŠØ¬ Ù„Ù…ÙˆÙ‚Ø¹Ùƒ',
        submit: 'Ø¥Ø±Ø³Ø§Ù„',
        submitted: 'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!',
        describeBug: 'ØµÙ Ø§Ù„Ø®Ø·Ø£...',
        yourSuggestion: 'Ø§Ù‚ØªØ±Ø§Ø­Ùƒ...',
        siteUrl: 'http://',
        promoteMessage: 'Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ù…ÙˆÙ‚Ø¹Ùƒ Ù„Ù„Ø¥Ø¯Ø±Ø§Ø¬ Ø§Ù„Ù…Ø¯ÙÙˆØ¹...',
        generalSettings: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©',
        mostVisitedSitesFirst: 'Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø£ÙƒØ«Ø± Ø²ÙŠØ§Ø±Ø© Ø£ÙˆÙ„Ø§Ù‹',
        resetVisitedSites: 'Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªÙŠ ØªÙ…Øª Ø²ÙŠØ§Ø±ØªÙ‡Ø§',
        showLogoOnMouseOver: 'Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ ØªÙ…Ø±ÙŠØ± Ø§Ù„ÙØ£Ø±Ø©',
        openResultsInNewTab: 'ÙØªØ­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø¬Ø¯ÙŠØ¯Ø©',
        rows: 'Ø§Ù„ØµÙÙˆÙ',
        sites: 'Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Ø®Ø±Ø§Ø¦Ø·',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'Ø¹Ø§Ù…',
        ai: 'AI',
        buy: 'Ø´Ø±Ø§Ø¡',
        social: 'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ',
        forum: 'Ù…Ù†ØªØ¯Ù‰',
        cookieText: 'Ù†Ø³ØªØ®Ø¯Ù… Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ.',
        learnMore: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯',
        accept: 'Ù‚Ø¨ÙˆÙ„',
        decline: 'Ø±ÙØ¶'
    },
    fr: {
        enterSearch: 'Entrez une requÃªte de recherche',
        toggleTheme: 'Changer de thÃ¨me',
        settings: 'ParamÃ¨tres',
        reportBug: 'Signaler un bug',
        suggestFeature: 'SuggÃ©rer une fonctionnalitÃ©',
        addSite: 'Ajouter un site',
        language: 'Langue',
        reportABug: 'Signaler un Bug',
        suggestAFeature: 'SuggÃ©rer une FonctionnalitÃ©',
        addASite: 'Ajouter un Site',
        promoteYourSite: 'Promouvoir Votre Site',
        submit: 'Soumettre',
        submitted: 'Soumis!',
        describeBug: 'DÃ©crivez le bug...',
        yourSuggestion: 'Votre suggestion...',
        siteUrl: 'http://',
        promoteMessage: 'Entrez les dÃ©tails de votre site pour une inclusion payante...',
        generalSettings: 'ParamÃ¨tres GÃ©nÃ©raux',
        mostVisitedSitesFirst: 'Sites les plus visitÃ©s en premier',
        resetVisitedSites: 'RÃ©initialiser les sites visitÃ©s',
        showLogoOnMouseOver: 'Afficher le logo au survol',
        openResultsInNewTab: 'Ouvrir les rÃ©sultats dans un nouvel onglet',
        rows: 'Lignes',
        sites: 'Sites',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Cartes',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'GÃ©nÃ©ral',
        ai: 'IA',
        buy: 'Acheter',
        social: 'Social',
        forum: 'Forum',
        cookieText: 'Nous utilisons des cookies pour amÃ©liorer votre expÃ©rience.',
        learnMore: 'En savoir plus',
        accept: 'Accepter',
        decline: 'Refuser'
    },
    pt: {
        enterSearch: 'Digite a consulta de pesquisa',
        toggleTheme: 'Alternar tema',
        settings: 'ConfiguraÃ§Ãµes',
        reportBug: 'Reportar bug',
        suggestFeature: 'Sugerir recurso',
        addSite: 'Adicionar site',
        language: 'Idioma',
        reportABug: 'Reportar um Bug',
        suggestAFeature: 'Sugerir um Recurso',
        addASite: 'Adicionar um Site',
        promoteYourSite: 'Promover Seu Site',
        submit: 'Enviar',
        submitted: 'Enviado!',
        describeBug: 'Descreva o bug...',
        yourSuggestion: 'Sua sugestÃ£o...',
        siteUrl: 'http://',
        promoteMessage: 'Digite os detalhes do seu site para inclusÃ£o paga...',
        generalSettings: 'ConfiguraÃ§Ãµes Gerais',
        mostVisitedSitesFirst: 'Sites mais visitados primeiro',
        resetVisitedSites: 'Redefinir sites visitados',
        showLogoOnMouseOver: 'Mostrar logotipo ao passar o mouse',
        openResultsInNewTab: 'Abrir resultados em nova aba',
        rows: 'Linhas',
        sites: 'Sites',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Mapas',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'Geral',
        ai: 'IA',
        buy: 'Comprar',
        social: 'Social',
        forum: 'FÃ³rum',
        cookieText: 'Usamos cookies para melhorar sua experiÃªncia.',
        learnMore: 'Saiba mais',
        accept: 'Aceitar',
        decline: 'Recusar'
    },
    ru: {
        enterSearch: 'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ',
        toggleTheme: 'ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ‚ÐµÐ¼Ñƒ',
        settings: 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸',
        reportBug: 'Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐµ',
        suggestFeature: 'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ',
        addSite: 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ°Ð¹Ñ‚',
        language: 'Ð¯Ð·Ñ‹Ðº',
        reportABug: 'Ð¡Ð¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð¾Ð± ÐžÑˆÐ¸Ð±ÐºÐµ',
        suggestAFeature: 'ÐŸÑ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð¤ÑƒÐ½ÐºÑ†Ð¸ÑŽ',
        addASite: 'Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¡Ð°Ð¹Ñ‚',
        promoteYourSite: 'ÐŸÑ€Ð¾Ð´Ð²Ð¸Ð³Ð°Ñ‚ÑŒ Ð’Ð°Ñˆ Ð¡Ð°Ð¹Ñ‚',
        submit: 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ',
        submitted: 'ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾!',
        describeBug: 'ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÑƒ...',
        yourSuggestion: 'Ð’Ð°ÑˆÐµ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ...',
        siteUrl: 'http://',
        promoteMessage: 'Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð²Ð°ÑˆÐµÐ³Ð¾ ÑÐ°Ð¹Ñ‚Ð° Ð´Ð»Ñ Ð¿Ð»Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ...',
        generalSettings: 'ÐžÐ±Ñ‰Ð¸Ðµ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸',
        mostVisitedSitesFirst: 'ÐÐ°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð¿Ð¾ÑÐµÑ‰Ð°ÐµÐ¼Ñ‹Ðµ ÑÐ°Ð¹Ñ‚Ñ‹ Ð¿ÐµÑ€Ð²Ñ‹Ð¼Ð¸',
        resetVisitedSites: 'Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾ÑÐµÑ‰ÐµÐ½Ð½Ñ‹Ðµ ÑÐ°Ð¹Ñ‚Ñ‹',
        showLogoOnMouseOver: 'ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ Ð»Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ Ð¿Ñ€Ð¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸',
        openResultsInNewTab: 'ÐžÑ‚ÐºÑ€Ñ‹Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð² Ð½Ð¾Ð²Ð¾Ð¹ Ð²ÐºÐ»Ð°Ð´ÐºÐµ',
        rows: 'Ð¡Ñ‚Ñ€Ð¾ÐºÐ¸',
        sites: 'Ð¡Ð°Ð¹Ñ‚Ñ‹',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'ÐšÐ°Ñ€Ñ‚Ñ‹',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'ÐžÐ±Ñ‰Ð¸Ðµ',
        ai: 'Ð˜Ð˜',
        buy: 'ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ',
        social: 'Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ',
        forum: 'Ð¤Ð¾Ñ€ÑƒÐ¼',
        cookieText: 'ÐœÑ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ ÐºÑƒÐºÐ¸ Ð´Ð»Ñ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¾Ð¿Ñ‹Ñ‚Ð°.',
        learnMore: 'Ð£Ð·Ð½Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ',
        accept: 'ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ',
        decline: 'ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ'
    },
    id: {
        enterSearch: 'Masukkan kueri pencarian',
        toggleTheme: 'Ganti tema',
        settings: 'Pengaturan',
        reportBug: 'Laporkan bug',
        suggestFeature: 'Sarankan fitur',
        addSite: 'Tambah situs',
        language: 'Bahasa',
        reportABug: 'Laporkan Bug',
        suggestAFeature: 'Sarankan Fitur',
        addASite: 'Tambah Situs',
        promoteYourSite: 'Promosikan Situs Anda',
        submit: 'Kirim',
        submitted: 'Terkirim!',
        describeBug: 'Jelaskan bug...',
        yourSuggestion: 'Saran Anda...',
        siteUrl: 'http://',
        promoteMessage: 'Masukkan detail situs Anda untuk penyertaan berbayar...',
        generalSettings: 'Pengaturan Umum',
        mostVisitedSitesFirst: 'Situs paling sering dikunjungi dulu',
        resetVisitedSites: 'Reset situs yang dikunjungi',
        showLogoOnMouseOver: 'Tampilkan logo saat mouse di atas',
        openResultsInNewTab: 'Buka hasil di tab baru',
        rows: 'Baris',
        sites: 'Situs',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Peta',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'Umum',
        ai: 'AI',
        buy: 'Beli',
        social: 'Sosial',
        forum: 'Forum',
        cookieText: 'Kami menggunakan cookie untuk meningkatkan pengalaman Anda.',
        learnMore: 'Pelajari lebih lanjut',
        accept: 'Terima',
        decline: 'Tolak'
    },
    it: {
        enterSearch: 'Inserisci query di ricerca',
        toggleTheme: 'Cambia tema',
        settings: 'Impostazioni',
        reportBug: 'Segnala bug',
        suggestFeature: 'Suggerisci funzionalitÃ ',
        addSite: 'Aggiungi sito',
        language: 'Lingua',
        reportABug: 'Segnala un Bug',
        suggestAFeature: 'Suggerisci una FunzionalitÃ ',
        addASite: 'Aggiungi un Sito',
        promoteYourSite: 'Promuovi il Tuo Sito',
        submit: 'Invia',
        submitted: 'Inviato!',
        describeBug: 'Descrivi il bug...',
        yourSuggestion: 'Il tuo suggerimento...',
        siteUrl: 'http://',
        promoteMessage: 'Inserisci i dettagli del tuo sito per lâ€™inclusione a pagamento...',
        generalSettings: 'Impostazioni Generali',
        mostVisitedSitesFirst: 'Siti piÃ¹ visitati per primi',
        resetVisitedSites: 'Ripristina siti visitati',
        showLogoOnMouseOver: 'Mostra logo al passaggio del mouse',
        openResultsInNewTab: 'Apri risultati in una nuova scheda',
        rows: 'Righe',
        sites: 'Siti',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Mappe',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'Generale',
        ai: 'AI',
        buy: 'Compra',
        social: 'Sociale',
        forum: 'Forum',
        cookieText: 'Utilizziamo i cookie per migliorare la tua esperienza.',
        learnMore: 'Scopri di piÃ¹',
        accept: 'Accetta',
        decline: 'Rifiuta'
    },
    de: {
        enterSearch: 'Suchanfrage eingeben',
        toggleTheme: 'Thema wechseln',
        settings: 'Einstellungen',
        reportBug: 'Fehler melden',
        suggestFeature: 'Funktion vorschlagen',
        addSite: 'Seite hinzufÃ¼gen',
        language: 'Sprache',
        reportABug: 'Einen Fehler Melden',
        suggestAFeature: 'Eine Funktion Vorschlagen',
        addASite: 'Eine Seite HinzufÃ¼gen',
        promoteYourSite: 'Ihre Seite Bewerben',
        submit: 'Absenden',
        submitted: 'Gesendet!',
        describeBug: 'Beschreiben Sie den Fehler...',
        yourSuggestion: 'Ihr Vorschlag...',
        siteUrl: 'http://',
        promoteMessage: 'Geben Sie die Details Ihrer Seite fÃ¼r eine kostenpflichtige Aufnahme ein...',
        generalSettings: 'Allgemeine Einstellungen',
        mostVisitedSitesFirst: 'Meistbesuchte Seiten zuerst',
        resetVisitedSites: 'Besuchte Seiten zurÃ¼cksetzen',
        showLogoOnMouseOver: 'Logo bei Mauszeiger anzeigen',
        openResultsInNewTab: 'Ergebnisse in neuem Tab Ã¶ffnen',
        rows: 'Reihen',
        sites: 'Seiten',
        google: 'Google',
        youtube: 'YouTube',
        wikipedia: 'Wikipedia',
        spotify: 'Spotify',
        netflix: 'Netflix',
        maps: 'Karten',
        chatgpt: 'ChatGPT',
        grok: 'Grok',
        gemini: 'Gemini',
        copilot: 'Copilot',
        claude: 'Claude',
        perplexity: 'Perplexity',
        amazon: 'Amazon',
        ebay: 'eBay',
        alibaba: 'Alibaba',
        walmart: 'Walmart',
        mercadolibre: 'MercadoLibre',
        etsy: 'Etsy',
        x: 'X',
        facebook: 'Facebook',
        tiktok: 'TikTok',
        twitch: 'Twitch',
        linkedin: 'LinkedIn',
        instagram: 'Instagram',
        reddit: 'Reddit',
        stackoverflow: 'Stack Overflow',
        discord: 'Discord',
        '4chan': '4chan',
        quora: 'Quora',
        ted: 'TED',
        general: 'Allgemein',
        ai: 'KI',
        buy: 'Kaufen',
        social: 'Sozial',
        forum: 'Forum',
        cookieText: 'Wir verwenden Cookies, um Ihre Erfahrung zu verbessern.',
        learnMore: 'Erfahren Sie mehr',
        accept: 'Akzeptieren',
        decline: 'Ablehnen'
    }
};

window.translations = translations;

const languageFlags = {
    en: 'ðŸ‡¬ðŸ‡§',
    es: 'ðŸ‡ªðŸ‡¸',
    hi: 'ðŸ‡®ðŸ‡³',
    bn: 'ðŸ‡§ðŸ‡©',
    ar: 'ðŸ‡¸ðŸ‡¦',
    fr: 'ðŸ‡«ðŸ‡·',
    pt: 'ðŸ‡µðŸ‡¹',
    ru: 'ðŸ‡·ðŸ‡º',
    id: 'ðŸ‡®ðŸ‡©',
    it: 'ðŸ‡®ðŸ‡¹',
    de: 'ðŸ‡©ðŸ‡ª'
};

function updateCookieConsent(translation) {
    const cookieConsent = document.querySelector('.cookie-consent');
    if (!cookieConsent) return;

    const cookieConsentP = cookieConsent.querySelector('p');
    if (cookieConsentP) {
        // Ensure there's a text node to modify, create one if missing
        if (!cookieConsentP.childNodes.length || cookieConsentP.childNodes[0].nodeType !== Node.TEXT_NODE) {
            cookieConsentP.insertBefore(document.createTextNode(''), cookieConsentP.firstChild);
        }
        cookieConsentP.childNodes[0].textContent = translation.cookieText + ' ';
    }
    const learnMoreLink = cookieConsent.querySelector('a');
    if (learnMoreLink) learnMoreLink.textContent = translation.learnMore;
    const acceptButton = document.getElementById('accept-cookies');
    if (acceptButton) acceptButton.textContent = translation.accept;
    const declineButton = document.getElementById('decline-cookies');
    if (declineButton) declineButton.textContent = translation.decline;
}

function updateLanguage(lang, isUserSelection = false) {
    localStorage.setItem('language', lang);
    const translation = translations[lang] || translations['en'];

    // Update language icon only if it's a user selection
    const languageIcon = document.getElementById('language-icon');
    if (languageIcon && isUserSelection) {
        languageIcon.textContent = languageFlags[lang] || 'ðŸ” ';
    }

    // Update search box placeholder
    const queryInput = document.getElementById('query');
    if (queryInput) queryInput.placeholder = translation.enterSearch;

    // Update tooltips
    const themeIcon = document.getElementById('theme-icon');
    if (themeIcon) themeIcon.dataset.tooltip = translation.toggleTheme;
    const settingsIcon = document.getElementById('settings-icon');
    if (settingsIcon) settingsIcon.dataset.tooltip = translation.settings;
    const bugIcon = document.getElementById('bug-icon');
    if (bugIcon) bugIcon.dataset.tooltip = translation.reportBug;
    const suggestionIcon = document.getElementById('suggestion-icon');
    if (suggestionIcon) suggestionIcon.dataset.tooltip = translation.suggestFeature;
    const addSiteIcon = document.getElementById('add-site-icon');
    if (addSiteIcon) addSiteIcon.dataset.tooltip = translation.addSite;
    if (languageIcon) languageIcon.dataset.tooltip = translation.language;

    // Update search buttons
    document.querySelectorAll('button[data-platform]').forEach(button => {
        const platform = button.dataset.platform;
        if (!platform.startsWith('promoted-') && translation[platform]) {
            button.textContent = translation[platform];
        }
    });

    // Update row labels
    document.querySelectorAll('.button-row label').forEach(label => {
        const row = label.parentElement.dataset.row;
        if (translation[row]) {
            label.textContent = translation[row];
        }
    });

    // Update modal titles
    const bugModalTitle = document.querySelector('#bug-modal h4');
    if (bugModalTitle) bugModalTitle.textContent = translation.reportABug;
    const suggestionModalTitle = document.querySelector('#suggestion-modal h4');
    if (suggestionModalTitle) suggestionModalTitle.textContent = translation.suggestAFeature;
    const addSiteModalTitle = document.querySelector('#add-site-modal h4');
    if (addSiteModalTitle) addSiteModalTitle.textContent = translation.addASite;
    const promoteModalTitle = document.querySelector('#promote-modal h4');
    if (promoteModalTitle) promoteModalTitle.textContent = translation.promoteYourSite;
    const languageModalTitle = document.querySelector('#language-modal h4');
    if (languageModalTitle) languageModalTitle.textContent = translation.language;

    // Update modal placeholders and buttons
    const bugMessage = document.getElementById('bug-message');
    if (bugMessage) bugMessage.placeholder = translation.describeBug;
    const suggestionMessage = document.getElementById('suggestion-message');
    if (suggestionMessage) suggestionMessage.placeholder = translation.yourSuggestion;
    const addSiteInput = document.getElementById('add-site-input');
    if (addSiteInput) addSiteInput.placeholder = translation.siteUrl;
    const promoteMessage = document.getElementById('promote-message');
    if (promoteMessage) promoteMessage.placeholder = translation.promoteMessage;
    const submitBug = document.getElementById('submit-bug');
    if (submitBug) submitBug.textContent = translation.submit;
    const submitSuggestion = document.getElementById('submit-suggestion');
    if (submitSuggestion) submitSuggestion.textContent = translation.submit;
    const submitAddSite = document.getElementById('submit-add-site');
    if (submitAddSite) submitAddSite.textContent = translation.submit;
    const submitPromote = document.getElementById('submit-promote');
    if (submitPromote) submitPromote.textContent = translation.submit;

    // Update settings modal
    const generalSettingsTitle = document.querySelector('#settings-modal .modal-section:first-child h4');
    if (generalSettingsTitle) generalSettingsTitle.textContent = translation.generalSettings;
    const sortByUsageLabel = document.querySelector('#sort-by-usage');
    if (sortByUsageLabel && sortByUsageLabel.nextSibling) sortByUsageLabel.nextSibling.nextSibling.textContent = translation.mostVisitedSitesFirst;
    const resetUsage = document.getElementById('reset-usage');
    if (resetUsage) resetUsage.textContent = translation.resetVisitedSites;
    const logoOnHoverLabel = document.querySelector('#logo-on-hover');
    if (logoOnHoverLabel && logoOnHoverLabel.nextSibling) logoOnHoverLabel.nextSibling.nextSibling.textContent = translation.showLogoOnMouseOver;
    const newTabLabel = document.querySelector('#new-tab');
    if (newTabLabel && newTabLabel.nextSibling) newTabLabel.nextSibling.nextSibling.textContent = translation.openResultsInNewTab;
    const rowsTitle = document.querySelector('#settings-modal .modal-section:nth-child(2) h4');
    if (rowsTitle) rowsTitle.textContent = translation.rows;
    const sitesTitle = document.querySelector('#settings-modal .modal-section:nth-child(3) h4');
    if (sitesTitle) sitesTitle.textContent = translation.sites;

    // Update row toggles in settings modal
    const hideGeneralLabel = document.querySelector('#hide-general');
    if (hideGeneralLabel && hideGeneralLabel.nextSibling) hideGeneralLabel.nextSibling.nextSibling.textContent = translation.general;
    const hideAiLabel = document.querySelector('#hide-ai');
    if (hideAiLabel && hideAiLabel.nextSibling) hideAiLabel.nextSibling.nextSibling.textContent = translation.ai;
    const hideBuyLabel = document.querySelector('#hide-buy');
    if (hideBuyLabel && hideBuyLabel.nextSibling) hideBuyLabel.nextSibling.nextSibling.textContent = translation.buy;
    const hideSocialLabel = document.querySelector('#hide-social');
    if (hideSocialLabel && hideSocialLabel.nextSibling) hideSocialLabel.nextSibling.nextSibling.textContent = translation.social;
    const hideForumLabel = document.querySelector('#hide-forum');
    if (hideForumLabel && hideForumLabel.nextSibling) hideForumLabel.nextSibling.nextSibling.textContent = translation.forum;

    // Update sites section in settings modal
    document.querySelectorAll('#settings-modal .sites-column h5').forEach((h5, index) => {
        const sections = ['general', 'ai', 'buy', 'social', 'forum'];
        if (h5) h5.textContent = translation[sections[index]];
    });

    // Update cookie consent
    updateCookieConsent(translation);
}

document.querySelectorAll('.language-btn').forEach(button => {
    button.addEventListener('click', () => {
        const lang = button.dataset.lang;
        updateLanguage(lang, true);
        document.getElementById('language-modal').style.display = 'none';
    });
});

document.addEventListener('DOMContentLoaded', () => {
    const languageIcon = document.getElementById('language-icon');
    if (languageIcon) {
        languageIcon.textContent = 'ðŸ” ';
    }
    const savedLang = localStorage.getItem('language') || 'en';
    updateLanguage(savedLang, false);
});